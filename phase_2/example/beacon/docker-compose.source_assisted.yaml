# This file is automatically generated by cs_compose_create.py
# Edit and re-run the script if you need to update this file
# Created on Sun Aug 23 02:17:15 2020
version: '3.7'
networks:
    cs_network:
        external: 'false'
        internal: 'true'
        driver: bridge
        ipam: {}
services:
    ta3_beacon:
        image: ta3_beacon
        build:
            context: ./challenge_src/
            dockerfile: Dockerfile
            network: host
        networks:
            cs_network: &id001
                aliases:
                - challenge_container
        init: true
        environment: &id002
        - HOST=challenge_container
        - PORT=3028
        - STATIC_DIR=/data/static/static
        - VIEW_DIR=/data/static/view
        cap_add:
        - SYS_PTRACE
        security_opt:
        - seccomp:unconfined
    ta3_beacon_ref_patch:
        image: ta3_beacon_ref_patch
        build:
            context: ./reference_patch/
            dockerfile: Dockerfile
            network: host
        cap_add:
        - SYS_PTRACE
        security_opt:
        - apparmor:unconfined
        networks:
            cs_network: *id001
        init: true
        environment: *id002
    ta3_beacon_ref_pov_1_s1:
        image: ta3_beacon_ref_pov_1_s1
        build:
            context: ./reference_pov_1_s1/
            dockerfile: Dockerfile
            network: host
        security_opt:
        - apparmor:unconfined
        networks:
            cs_network: &id003
                aliases:
                - pov_container
        init: true
        environment: &id004
        - HOST=challenge_container
        - PORT=3028
    ta3_beacon_ref_pov_2_s1:
        image: ta3_beacon_ref_pov_2_s1
        build:
            context: ./reference_pov_2_s1/
            dockerfile: Dockerfile
            network: host
        security_opt:
        - apparmor:unconfined
        networks:
            cs_network: *id003
        init: true
        environment: *id004
    ta3_beacon_ref_pov_3_s1:
        image: ta3_beacon_ref_pov_3_s1
        build:
            context: ./reference_pov_3_s1/
            dockerfile: Dockerfile
            network: host
        security_opt:
        - apparmor:unconfined
        networks:
            cs_network: *id003
        init: true
        environment: *id004
    ta3_beacon_sp_s1:
        image: ta3_beacon_sp_s1
        build:
            context: ./service_poller_s1/
            dockerfile: Dockerfile
            network: host
        security_opt:
        - apparmor:unconfined
        networks:
            cs_network:
                aliases:
                - sp_container
        init: true
        environment:
        - HOST=challenge_container
        - PORT=3028
        
    
